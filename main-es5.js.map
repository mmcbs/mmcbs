{"version":3,"sources":["webpack:///src/app/register/register.component.ts","webpack:///src/app/register/register.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/_helpers/fake-backend.ts","webpack:///src/app/_services/index.ts","webpack:///src/app/_components/alert.component.ts","webpack:///src/app/_components/alert.component.html","webpack:///src/app/login/index.ts","webpack:///src/app/_components/index.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/_services/user.service.ts","webpack:///src/app/_helpers/index.ts","webpack:///src/app/app.module.ts","webpack:///src/app/app.routing.ts","webpack:///src/app/shared.module.ts","webpack:///src/app/_services/alert.service.ts","webpack:///src/app/_helpers/jwt.interceptor.ts","webpack:///src/app/register/index.ts","webpack:///src/app/_helpers/error.interceptor.ts","webpack:///src/app/_services/authentication.service.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/home/index.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["RegisterComponent","formBuilder","router","authenticationService","userService","alertService","loading","submitted","currentUserValue","navigate","registerForm","group","firstName","required","lastName","username","password","minLength","controls","invalid","register","value","pipe","subscribe","data","success","error","onSubmit","HomeComponent","users","currentUserSubscription","currentUser","user","loadAllUsers","unsubscribe","id","getAll","environment","production","apiUrl","FakeBackendInterceptor","request","next","JSON","parse","localStorage","getItem","url","endsWith","method","filteredUsers","filter","body","length","token","status","message","headers","get","match","urlParts","split","parseInt","matchedUsers","newUser","duplicateUser","push","setItem","stringify","i","splice","handle","fakeBackendProvider","provide","useClass","multi","AlertComponent","subscription","getMessage","AppComponent","x","logout","UserService","http","post","put","AppModule","appRoutes","path","component","redirectTo","routing","forRoot","relativeLinkResolution","SharedModule","AlertService","subject","keepAfterNavigationChange","events","event","type","text","asObservable","JwtInterceptor","clone","setHeaders","Authorization","ErrorInterceptor","err","location","reload","statusText","AuthenticationService","currentUserSubject","removeItem","LoginComponent","route","loginForm","returnUrl","snapshot","queryParams","login","f","bootstrapModule","console","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { first } from 'rxjs/operators';\r\n\r\nimport { AlertService, UserService, AuthenticationService } from '@app/_services';\r\n\r\n@Component({templateUrl: 'register.component.html'})\r\nexport class RegisterComponent implements OnInit {\r\n    registerForm: FormGroup;\r\n    loading = false;\r\n    submitted = false;\r\n\r\n    constructor(\r\n        private formBuilder: FormBuilder,\r\n        private router: Router,\r\n        private authenticationService: AuthenticationService,\r\n        private userService: UserService,\r\n        private alertService: AlertService\r\n    ) { \r\n        // redirect to home if already logged in\r\n        if (this.authenticationService.currentUserValue) { \r\n            this.router.navigate(['/']);\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.registerForm = this.formBuilder.group({\r\n            firstName: ['', Validators.required],\r\n            lastName: ['', Validators.required],\r\n            username: ['', Validators.required],\r\n            password: ['', [Validators.required, Validators.minLength(6)]]\r\n        });\r\n    }\r\n\r\n    // convenience getter for easy access to form fields\r\n    get f() { return this.registerForm.controls; }\r\n\r\n    onSubmit() {\r\n        this.submitted = true;\r\n\r\n        // stop here if form is invalid\r\n        if (this.registerForm.invalid) {\r\n            return;\r\n        }\r\n\r\n        this.loading = true;\r\n        this.userService.register(this.registerForm.value)\r\n            .pipe(first())\r\n            .subscribe(\r\n                data => {\r\n                    this.alertService.success('Registration successful', true);\r\n                    this.router.navigate(['/login']);\r\n                },\r\n                error => {\r\n                    this.alertService.error(error);\r\n                    this.loading = false;\r\n                });\r\n    }\r\n}\r\n","<h2>Register</h2>\r\n<form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\">\r\n    <div class=\"form-group\">\r\n        <label for=\"firstName\">First Name</label>\r\n        <input type=\"text\" formControlName=\"firstName\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.firstName.errors }\" />\r\n        <div *ngIf=\"submitted && f.firstName.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.firstName.errors.required\">First Name is required</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"lastName\">Last Name</label>\r\n        <input type=\"text\" formControlName=\"lastName\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.lastName.errors }\" />\r\n        <div *ngIf=\"submitted && f.lastName.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.lastName.errors.required\">Last Name is required</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"username\">Username</label>\r\n        <input type=\"text\" formControlName=\"username\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.username.errors }\" />\r\n        <div *ngIf=\"submitted && f.username.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.username.errors.required\">Username is required</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"password\">Password</label>\r\n        <input type=\"password\" formControlName=\"password\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.password.errors }\" />\r\n        <div *ngIf=\"submitted && f.password.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.password.errors.required\">Password is required</div>\r\n            <div *ngIf=\"f.password.errors.minlength\">Password must be at least 6 characters</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <button [disabled]=\"loading\" class=\"btn btn-primary\">Register</button>\r\n        <img *ngIf=\"loading\" class=\"pl-3\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n        <a routerLink=\"/login\" class=\"btn btn-link\">Cancel</a>\r\n    </div>\r\n</form>\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\n\r\nimport { User } from '@app/_models';\r\nimport { UserService, AuthenticationService } from '@app/_services';\r\n\r\n@Component({ templateUrl: 'home.component.html' })\r\nexport class HomeComponent implements OnInit, OnDestroy {\r\n    currentUser: User;\r\n    currentUserSubscription: Subscription;\r\n    users: User[] = [];\r\n\r\n    constructor(\r\n        private authenticationService: AuthenticationService,\r\n        private userService: UserService\r\n    ) {\r\n        this.currentUserSubscription = this.authenticationService.currentUser.subscribe(user => {\r\n            this.currentUser = user;\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loadAllUsers();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        // unsubscribe to ensure no memory leaks\r\n        this.currentUserSubscription.unsubscribe();\r\n    }\r\n\r\n    deleteUser(id: number) {\r\n        this.userService.delete(id).pipe(first()).subscribe(() => {\r\n            this.loadAllUsers()\r\n        });\r\n    }\r\n\r\n    private loadAllUsers() {\r\n        this.userService.getAll().pipe(first()).subscribe(users => {\r\n            this.users = users;\r\n        });\r\n    }\r\n}","<h1>Hi {{currentUser.firstName}}!</h1>\r\n<p>You're logged in with Angular 7!!</p>\r\n<h3>All registered users:</h3>\r\n<ul>\r\n    <li *ngFor=\"let user of users\">\r\n        {{user.username}} ({{user.firstName}} {{user.lastName}})\r\n        - <a (click)=\"deleteUser(user.id)\" class=\"text-danger\">Delete</a>\r\n    </li>\r\n</ul>","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  apiUrl: 'http://localhost:4000'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpResponse, HttpHandler, HttpEvent, HttpInterceptor, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { Observable, of, throwError } from 'rxjs';\r\nimport { delay, mergeMap, materialize, dematerialize } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class FakeBackendInterceptor implements HttpInterceptor {\r\n\r\n    constructor() { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // array in local storage for registered users\r\n        let users: any[] = JSON.parse(localStorage.getItem('users')) || [];\r\n\r\n        // wrap in delayed observable to simulate server api call\r\n        return of(null).pipe(mergeMap(() => {\r\n\r\n            // authenticate\r\n            if (request.url.endsWith('/users/authenticate') && request.method === 'POST') {\r\n                // find if any user matches login credentials\r\n                let filteredUsers = users.filter(user => {\r\n                    return user.username === request.body.username && user.password === request.body.password;\r\n                });\r\n\r\n                if (filteredUsers.length) {\r\n                    // if login details are valid return 200 OK with user details and fake jwt token\r\n                    let user = filteredUsers[0];\r\n                    let body = {\r\n                        id: user.id,\r\n                        username: user.username,\r\n                        firstName: user.firstName,\r\n                        lastName: user.lastName,\r\n                        token: 'fake-jwt-token'\r\n                    };\r\n\r\n                    return of(new HttpResponse({ status: 200, body: body }));\r\n                } else {\r\n                    // else return 400 bad request\r\n                    return throwError({ error: { message: 'Username or password is incorrect' } });\r\n                }\r\n            }\r\n\r\n            // get users\r\n            if (request.url.endsWith('/users') && request.method === 'GET') {\r\n                // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\r\n                if (request.headers.get('Authorization') === 'Bearer fake-jwt-token') {\r\n                    return of(new HttpResponse({ status: 200, body: users }));\r\n                } else {\r\n                    // return 401 not authorised if token is null or invalid\r\n                    return throwError({ status: 401, error: { message: 'Unauthorised' } });\r\n                }\r\n            }\r\n\r\n            // get user by id\r\n            if (request.url.match(/\\/users\\/\\d+$/) && request.method === 'GET') {\r\n                // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\r\n                if (request.headers.get('Authorization') === 'Bearer fake-jwt-token') {\r\n                    // find user by id in users array\r\n                    let urlParts = request.url.split('/');\r\n                    let id = parseInt(urlParts[urlParts.length - 1]);\r\n                    let matchedUsers = users.filter(user => { return user.id === id; });\r\n                    let user = matchedUsers.length ? matchedUsers[0] : null;\r\n\r\n                    return of(new HttpResponse({ status: 200, body: user }));\r\n                } else {\r\n                    // return 401 not authorised if token is null or invalid\r\n                    return throwError({ status: 401, error: { message: 'Unauthorised' } });\r\n                }\r\n            }\r\n\r\n            // register user\r\n            if (request.url.endsWith('/users/register') && request.method === 'POST') {\r\n                // get new user object from post body\r\n                let newUser = request.body;\r\n\r\n                // validation\r\n                let duplicateUser = users.filter(user => { return user.username === newUser.username; }).length;\r\n                if (duplicateUser) {\r\n                    return throwError({ error: { message: 'Username \"' + newUser.username + '\" is already taken' } });\r\n                }\r\n\r\n                // save new user\r\n                newUser.id = users.length + 1;\r\n                users.push(newUser);\r\n                localStorage.setItem('users', JSON.stringify(users));\r\n\r\n                // respond 200 OK\r\n                return of(new HttpResponse({ status: 200 }));\r\n            }\r\n\r\n            // delete user\r\n            if (request.url.match(/\\/users\\/\\d+$/) && request.method === 'DELETE') {\r\n                // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\r\n                if (request.headers.get('Authorization') === 'Bearer fake-jwt-token') {\r\n                    // find user by id in users array\r\n                    let urlParts = request.url.split('/');\r\n                    let id = parseInt(urlParts[urlParts.length - 1]);\r\n                    for (let i = 0; i < users.length; i++) {\r\n                        let user = users[i];\r\n                        if (user.id === id) {\r\n                            // delete user\r\n                            users.splice(i, 1);\r\n                            localStorage.setItem('users', JSON.stringify(users));\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // respond 200 OK\r\n                    return of(new HttpResponse({ status: 200 }));\r\n                } else {\r\n                    // return 401 not authorised if token is null or invalid\r\n                    return throwError({ status: 401, error: { message: 'Unauthorised' } });\r\n                }\r\n            }\r\n\r\n            // pass through any requests not handled above\r\n            return next.handle(request);\r\n            \r\n        }))\r\n\r\n        // call materialize and dematerialize to ensure delay even if an error is thrown (https://github.com/Reactive-Extensions/RxJS/issues/648)\r\n        .pipe(materialize())\r\n        .pipe(delay(500))\r\n        .pipe(dematerialize());\r\n    }\r\n}\r\n\r\nexport let fakeBackendProvider = {\r\n    // use fake backend in place of Http service for backend-less development\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: FakeBackendInterceptor,\r\n    multi: true\r\n};","export * from './alert.service';\r\nexport * from './authentication.service';\r\nexport * from './user.service';","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { AlertService } from '@app/_services';\r\n\r\n@Component({\r\n    selector: 'alert',\r\n    templateUrl: 'alert.component.html'\r\n})\r\n\r\nexport class AlertComponent implements OnInit, OnDestroy {\r\n    private subscription: Subscription;\r\n    message: any;\r\n\r\n    constructor(private alertService: AlertService) { }\r\n\r\n    ngOnInit() {\r\n        this.subscription = this.alertService.getMessage().subscribe(message => { \r\n            this.message = message; \r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n}","<div *ngIf=\"message\" [ngClass]=\"{ 'alert': message, 'alert-success': message.type === 'success', 'alert-danger': message.type === 'error' }\">{{message.text}}</div>","export * from './login.component';","export * from './alert.component';","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { AuthenticationService } from './_services';\r\nimport { User } from './_models';\r\n\r\n@Component({ selector: 'app', templateUrl: 'app.component.html' })\r\nexport class AppComponent {\r\n    currentUser: User;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private authenticationService: AuthenticationService\r\n    ) {\r\n        this.authenticationService.currentUser.subscribe(x => this.currentUser = x);\r\n    }\r\n\r\n    logout() {\r\n        this.authenticationService.logout();\r\n        this.router.navigate(['/login']);\r\n    }\r\n}","<!-- nav -->\r\n<nav class=\"navbar navbar-expand navbar-dark bg-dark\" *ngIf=\"currentUser\">\r\n    <div class=\"navbar-nav\">\r\n        <a class=\"nav-item nav-link\" routerLink=\"/\">Home</a>\r\n        <a class=\"nav-item nav-link\" (click)=\"logout()\">Logout</a>\r\n    </div>\r\n</nav>\r\n\r\n<!-- main app container -->\r\n<div class=\"jumbotron\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-6 offset-sm-3\">\r\n                <alert></alert>\r\n                <router-outlet></router-outlet>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- credits -->\r\n<div class=\"text-center\">\r\n    <p>\r\n        <a href=\"http://jasonwatmore.com/post/2018/10/29/angular-7-user-registration-and-login-example-tutorial\" target=\"_top\">Angular 7 - User Registration and Login Example & Tutorial</a>\r\n    </p>\r\n    <p>\r\n        <a href=\"http://jasonwatmore.com\" target=\"_top\">JasonWatmore.com</a>\r\n    </p>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { User } from '@app/_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UserService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    getAll() {\r\n        return this.http.get<User[]>(`${environment.apiUrl}/users`);\r\n    }\r\n\r\n    getById(id: number) {\r\n        return this.http.get(`${environment.apiUrl}/users/${id}`);\r\n    }\r\n\r\n    register(user: User) {\r\n        return this.http.post(`${environment.apiUrl}/users/register`, user);\r\n    }\r\n\r\n    update(user: User) {\r\n        return this.http.put(`${environment.apiUrl}/users/${user.id}`, user);\r\n    }\r\n\r\n    delete(id: number) {\r\n        return this.http.delete(`${environment.apiUrl}/users/${id}`);\r\n    }\r\n}","export * from './error.interceptor';\r\nexport * from './jwt.interceptor';\r\nexport * from './fake-backend';","import { NgModule }      from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ReactiveFormsModule }    from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { SharedModule } from './shared.module';\r\n\r\n// used to create fake backend\r\nimport { fakeBackendProvider } from './_helpers';\r\n\r\nimport { AppComponent }  from './app.component';\r\nimport { routing }        from './app.routing';\r\n\r\nimport { AlertComponent } from './_components';\r\nimport { JwtInterceptor, ErrorInterceptor } from './_helpers';\r\nimport { HomeComponent } from './home';\r\nimport { LoginComponent } from './login';\r\nimport { RegisterComponent } from './register';\r\n\r\n@NgModule({\r\n    imports: [\r\n        BrowserModule,\r\n        ReactiveFormsModule,\r\n        HttpClientModule,\r\n        SharedModule,\r\n        routing\r\n    ],\r\n    declarations: [\r\n        AppComponent,\r\n        AlertComponent,\r\n        HomeComponent,\r\n        LoginComponent,\r\n        RegisterComponent\r\n    ],\r\n    providers: [\r\n        { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\r\n        { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n\r\n        // provider used to create fake backend\r\n        // fakeBackendProvider\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\n\r\nexport class AppModule { }","import { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HomeComponent } from './home';\r\nimport { LoginComponent } from './login';\r\nimport { RegisterComponent } from './register';\r\nimport { AuthGuard } from './_guards';\r\n\r\nconst appRoutes: Routes = [\r\n    { path: '', component: HomeComponent },\r\n    // { path: '', component: HomeComponent, canActivate: [AuthGuard] }, // *NOTE: AuthGuard re-routes to Login page if user not logged in\r\n    { path: 'login', component: LoginComponent },\r\n    { path: 'register', component: RegisterComponent },\r\n\r\n    // otherwise redirect to home\r\n    { path: '**', redirectTo: '' }\r\n];\r\n\r\nexport const routing = RouterModule.forRoot(appRoutes, { relativeLinkResolution: 'legacy' });","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ]\n})\n\nexport class SharedModule { }\n\n// *** REFERENCE: homeless-helper shared.module.ts\n// // NOTE: \"Shared\" module - conventional name for an NgModule that houses components, directives, and pipes used everywhere in your app\n// //  *SEE: https://angular.io/guide/ngmodule-faq#sharedmodule\n// //  *CAUTION: be sure to import the Angular Material modules after Angular's BrowserModule, as the import order matters for NgModules.\n// import { NgModule } from '@angular/core';\n// import { CommonModule } from '@angular/common';\n// import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n// // AngularMaterial - AVAILABLE COMPONENTS: https://material.angular.io/components/categories\n// import { MatTabsModule } from '@angular/material/tabs';\n// import { MatSliderModule } from '@angular/material/slider';\n// import { MatExpansionModule } from '@angular/material/expansion';\n// import { MatRadioModule } from '@angular/material/radio';\n// import { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n// import { MatDialogModule } from '@angular/material/dialog';\n// import { MatButtonModule } from '@angular/material/button';\n// import { MatSelectModule } from '@angular/material/select';\n// import { MatDatepickerModule } from '@angular/material/datepicker';\n// import { MatSnackBarModule } from '@angular/material/snack-bar';\n// import { MAT_MOMENT_DATE_FORMATS, MomentDateAdapter } from '@angular/material-moment-adapter';\n// import { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE } from '@angular/material/core';\n\n// // import { MatFormFieldModule } from '@angular/material/form-field';\n// // import { MatInputModule } from '@angular/material/input';\n// // import { MatRippleModule } from '@angular/material/core';\n// // import { MatCardModule } from '@angular/material/card';\n\n// @NgModule({\n//   declarations: [],\n//   imports: [\n//     CommonModule,\n//     BrowserAnimationsModule,\n//     MatTabsModule,\n//     MatSliderModule,\n//     MatExpansionModule,\n//     MatRadioModule,\n//     MatProgressSpinnerModule,\n//     MatDialogModule,\n//     MatButtonModule,\n//     MatSelectModule,\n//     MatDatepickerModule,\n//     MatSnackBarModule\n//     // MatFormFieldModule\n//     // MatButtonModule,\n//     // MatInputModule,\n//     // MatRippleModule,\n//     // MatCardModule\n//   ],\n//   exports: [\n//     BrowserAnimationsModule,\n//     MatTabsModule,\n//     MatSliderModule,\n//     MatExpansionModule,\n//     MatRadioModule,\n//     MatProgressSpinnerModule,\n//     MatDialogModule,\n//     MatButtonModule,\n//     MatSelectModule,\n//     MatDatepickerModule,\n//     MatSnackBarModule\n//     // MatFormFieldModule\n//     // MatButtonModule,\n//     // MatInputModule,\n//     // MatRippleModule,\n//     // MatCardModule\n//   ],\n//   providers: [\n//     // `MomentDateAdapter` and `MAT_MOMENT_DATE_FORMATS` can be automatically provided by importing\n//     // `MatMomentDateModule` in your applications root module. We provide it at the component level\n//     // here, due to limitations of our example generation script.\n//     {provide: DateAdapter, useClass: MomentDateAdapter, deps: [MAT_DATE_LOCALE]},\n//     {provide: MAT_DATE_FORMATS, useValue: MAT_MOMENT_DATE_FORMATS},\n//   ],\n// })\n// export class SharedModule { }\n","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationStart } from '@angular/router';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AlertService {\r\n    private subject = new Subject<any>();\r\n    private keepAfterNavigationChange = false;\r\n\r\n    constructor(private router: Router) {\r\n        // clear alert message on route change\r\n        router.events.subscribe(event => {\r\n            if (event instanceof NavigationStart) {\r\n                if (this.keepAfterNavigationChange) {\r\n                    // only keep for a single location change\r\n                    this.keepAfterNavigationChange = false;\r\n                } else {\r\n                    // clear alert\r\n                    this.subject.next();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    success(message: string, keepAfterNavigationChange = false) {\r\n        this.keepAfterNavigationChange = keepAfterNavigationChange;\r\n        this.subject.next({ type: 'success', text: message });\r\n    }\r\n\r\n    error(message: string, keepAfterNavigationChange = false) {\r\n        this.keepAfterNavigationChange = keepAfterNavigationChange;\r\n        this.subject.next({ type: 'error', text: message });\r\n    }\r\n\r\n    getMessage(): Observable<any> {\r\n        return this.subject.asObservable();\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { AuthenticationService } from '@app/_services';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService) {}\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // add authorization header with jwt token if available\r\n        let currentUser = this.authenticationService.currentUserValue;\r\n        if (currentUser && currentUser.token) {\r\n            request = request.clone({\r\n                setHeaders: { \r\n                    Authorization: `Bearer ${currentUser.token}`\r\n                }\r\n            });\r\n        }\r\n\r\n        return next.handle(request);\r\n    }\r\n}","export * from './register.component';","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AuthenticationService } from '@app/_services';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService) {}\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if (err.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                this.authenticationService.logout();\r\n                location.reload(true);\r\n            }\r\n            \r\n            const error = err.error.message || err.statusText;\r\n            return throwError(error);\r\n        }))\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { User } from '@app/_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService {\r\n    private currentUserSubject: BehaviorSubject<User>; // variant of subject that requires an initial value\r\n    public currentUser: Observable<User>;\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.currentUserSubject = new BehaviorSubject<User>(JSON.parse(localStorage.getItem('currentUser')));\r\n        this.currentUser = this.currentUserSubject.asObservable();\r\n    }\r\n\r\n    public get currentUserValue(): User {\r\n        return this.currentUserSubject.value;\r\n    }\r\n\r\n    login(username: string, password: string) {\r\n        return this.http.post<any>(`${environment.apiUrl}/users/authenticate`, { username, password })\r\n            .pipe(map(user => {\r\n                // login successful if there's a jwt token in the response\r\n                if (user && user.token) {\r\n                    // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n                    localStorage.setItem('currentUser', JSON.stringify(user));\r\n                    this.currentUserSubject.next(user);\r\n                }\r\n\r\n                return user;\r\n            }));\r\n    }\r\n\r\n    logout() {\r\n        // remove user from local storage to log user out\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { first } from 'rxjs/operators';\r\n\r\nimport { AlertService, AuthenticationService } from '@app/_services';\r\n\r\n@Component({templateUrl: 'login.component.html'})\r\nexport class LoginComponent implements OnInit {\r\n    loginForm: FormGroup;\r\n    loading = false;\r\n    submitted = false;\r\n    returnUrl: string;\r\n\r\n    constructor(\r\n        private formBuilder: FormBuilder,\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private authenticationService: AuthenticationService,\r\n        private alertService: AlertService\r\n    ) {\r\n        // redirect to home if already logged in\r\n        if (this.authenticationService.currentUserValue) { \r\n            this.router.navigate(['/']);\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.loginForm = this.formBuilder.group({\r\n            username: ['', Validators.required],\r\n            password: ['', Validators.required]\r\n        });\r\n\r\n        // get return url from route parameters or default to '/'\r\n        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\r\n    }\r\n\r\n    // convenience getter for easy access to form fields\r\n    get f() { return this.loginForm.controls; }\r\n\r\n    onSubmit() {\r\n        this.submitted = true;\r\n\r\n        // stop here if form is invalid\r\n        if (this.loginForm.invalid) {\r\n            return;\r\n        }\r\n\r\n        this.loading = true;\r\n        this.authenticationService.login(this.f.username.value, this.f.password.value)\r\n            .pipe(first())\r\n            .subscribe(\r\n                data => {\r\n                    this.router.navigate([this.returnUrl]);\r\n                },\r\n                error => {\r\n                    this.alertService.error(error);\r\n                    this.loading = false;\r\n                });\r\n    }\r\n}\r\n","<h2>Login</h2>\r\n<form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\r\n    <div class=\"form-group\">\r\n        <label for=\"username\">Username</label>\r\n        <input type=\"text\" formControlName=\"username\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.username.errors }\" />\r\n        <div *ngIf=\"submitted && f.username.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.username.errors.required\">Username is required</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <label for=\"password\">Password</label>\r\n        <input type=\"password\" formControlName=\"password\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.password.errors }\" />\r\n        <div *ngIf=\"submitted && f.password.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.password.errors.required\">Password is required</div>\r\n        </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n        <button [disabled]=\"loading\" class=\"btn btn-primary\">Login</button>\r\n        <img *ngIf=\"loading\" class=\"pl-3\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n        <a routerLink=\"/register\" class=\"btn btn-link\">Register</a>\r\n    </div>\r\n</form>","export * from './home.component';","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}